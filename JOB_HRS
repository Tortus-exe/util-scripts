#!/bin/bqn
Splitâ†{' '((âŠ¢-Ëœ+`Ã—Â¬)âˆ˜=âŠ”âŠ¢)ğ•©}â‹„
Readâ†10âŠ¸Ã—âŠ¸+ËœÂ´âˆ˜âŒ½-âŸœ'0'â‹„
dayMatrixâ†(â‰¢â¥ŠReadÂ¨)âˆ˜>SplitÂ¨âˆ˜â€¢FLines ".HOURS"â‹„
Fstâ†{0<â‰ ğ•©?âŠ‘ğ•©;âŸ¨âŸ©}â‹„
Sndâ†{1<â‰ ğ•©?1âŠ‘ğ•©;ğ•¨}â‹„
{ğ•Š: â‹„
	dateâ†(1âŠ¸â†“âŒ¾âŒ½)1âŠ‘â€¢SH "date"â€¿"+%Y%m%d"â‹„
	numDaysSinceStartâ†86400Ã·Ëœ((1âŠ¸â†“âŒ¾âŒ½)1âŠ‘â€¢SH "date"â€¿"+%s"â€¿"-d"â€¿date)(-â—‹Read)(1âŠ¸â†“âŒ¾âŒ½)1âŠ‘â€¢SH "date"â€¿"+%s"â€¿"-d"â€¿"20230515"â‹„
	dayMatrixâ†©{ğ•Š: ğ•©âˆ¾5â¥Š0}âŸ{numDaysSinceStartâ‰¥â‰ â¥Š0âˆ¾Ë˜âŸ2âŠ¢ğ•©}dayMatrixâ‹„
	dayMatrixâ†©{Readâ—‹("8"âŠ¸Snd) â€¢args}âŒ¾(âŸ¨âŒŠnumDaysSinceStartÃ·7, 7|numDaysSinceStartâŸ©âŠ¸âŠ‘) dayMatrixâ‹„
	".HOURS" â€¢file.Lines {(2âŠ¸â†“âŒ¾âŒ½)2â†“â€¢Fmt}Â¨<Ë˜dayMatrixâ‹„
}âŸ{"a"â‰¡Fst} â€¢argsâ‹„
â€¢Out "DAYS: "â‹„
â€¢Show dayMatrixâ‹„
â€¢Out "éã”ã—æ™‚é–“: "âˆ¾â€¢Fmt sumâ†+Â´â¥ŠdayMatrixâ‹„
â€¢Out "æ®‹ã‚Šæ™‚é–“: "âˆ¾â€¢Fmt 420-sumâ‹„
â€¢Out "æ®‹ã‚Šæ—¥: "âˆ¾â€¢Fmt 8Ã·Ëœ420-sumâ‹„